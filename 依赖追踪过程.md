## 组件创建过程

- `vuejs.core\packages\runtime-core\src\component.ts`
  `createComponentInstance`

- `vuejs.core\packages\runtime-core\src\renderer.ts`
  `mountComponent` ---> `setupRenderEffect` ---> `scope.run`

  ```ts
      const effect = (instance.effect = new ReactiveEffect(
        componentUpdateFn,
        () => queueJob(update),
        instance.scope // track it in component's effect scope
      ))
  ```

- `vuejs.core\packages\reactivity\src\effectScope.ts`

  ```ts
  run<T>(fn: () => T): T | undefined {
      if (this._active) {
        const currentEffectScope = activeEffectScope
        try {
          activeEffectScope = this
          return fn()
        } finally {
          activeEffectScope = currentEffectScope
        }
      } else if (__DEV__) {
        warn(`cannot run an inactive effect scope.`)
      }
    }
  ```

- `vuejs.core\packages\reactivity\src\baseHandlers.ts`

- `vuejs.core\packages\reactivity\src\effect.ts`

  `ReactiveEffect`对象，
  `track`、`trackEffects`函数